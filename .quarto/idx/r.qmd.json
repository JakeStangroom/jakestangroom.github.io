{"title":"Fundamental R Objects and Functions","markdown":{"headingText":"Fundamental R Objects and Functions","headingAttr":{"id":"sec-day1-r","classes":[],"keyvalue":[]},"containsRefs":false,"markdown":"\nSee the video `r.mp4` for a visual explanation of this document.\n\nR is a powerful statistical computing language designed for efficient data analysis. It is free, open-source, and operates primarily on objects, which makes it flexible for data manipulation.\n\nR can be downloaded from [CRAN](https://cran.r-project.org/), and RStudio, the recommended integrated development environment (IDE), can be obtained from [RStudio](https://www.rstudio.com/). Once installed, open RStudio to explore its interface.\n\n## Getting Help\n\nTo view the help documentation for a function, use either the `?` operator or the `help()` function:\n\n``` r\n?setwd     # Opens help for setwd()\nhelp(\"lm\")  # Alternative way to get help for lm()\n```\n\n## Libraries\n\nLibraries in R provide additional functions and features. For example:\n\n-   **Syntax:** `library(packageName)`\n\n-   **Example:**\n\n    ``` r\n    library(ggplot2)  # Loads the ggplot2 package for data visualization\n    ```\n\n## Reading in Data\n\nThere are many ways to read data into R. For example, to read data from a CSV file:\n\n``` r\ndata <- read.csv(\"data/yourfile.csv\")\n```\n\nOther packages such as `readr`, `readxl`, and `openxlsx` offer additional methods and options for reading various data formats.\n\n## Assigning Values to Objects\n\nIn R, you assign values to objects using `<-` (preferred) or `=`:\n\n``` r\nx <- 1               # Assigns the value 1 to x\nmsg <- \"Hello, world!\"  # Assigns a character string to msg\nprint(x)            # Prints the value of x\n```\n\nTo check an object's type, use the `class()` function:\n\n``` r\nclass(x)   # Returns \"numeric\"\nclass(msg) # Returns \"character\"\n```\n\n## Basic Computations\n\nR supports basic arithmetic following standard mathematical precedence:\n\n``` r\n2 + 3 * 5      # Multiplication happens before addition\nlog(10)        # Natural logarithm of 10\n4^2            # Exponentiation: 4 squared\nsqrt(16)       # Square root of 16\nabs(-7)        # Absolute value of -7\n```\n\nFor integer division and modulus operations:\n\n``` r\n15 %/% 4  # Integer division: returns 3\n15 %% 4   # Modulus: returns 3\n```\n\n## Working with Vectors\n\nVectors store multiple values of the same type and are a fundamental data structure in R:\n\n``` r\nx <- c(1, 3, 2, 10, 5)  # Creates a numeric vector\ny <- 1:5                # Creates a sequence from 1 to 5\n```\n\nMathematical operations can be applied directly to vectors:\n\n``` r\ny + 2   # Adds 2 to each element\n2 * y   # Multiplies each element by 2\nx + y   # Adds corresponding elements of x and y\nx * y   # Multiplies corresponding elements of x and y\nx^y     # Raises each element of x to the power given in y\n```\n\nTo extract specific elements from a vector:\n\n``` r\nx[2]      # Returns the second element\nx[3:5]    # Returns elements from index 3 to 5\nx[-2]     # Returns all elements except the second one\nx[x > 3]  # Returns elements greater than 3\n```\n\n## Working with Character Vectors\n\nCharacter vectors store text data:\n\n``` r\ncolours <- c(\"green\", \"blue\", \"orange\", \"yellow\", \"red\")\ncolours[2]  # Returns \"blue\"\ncolours[5]  # Returns \"red\"\n```\n\nNote that character vectors do not support arithmetic operations.\n\n## Matrices\n\nMatrices are two-dimensional arrays where all elements are of the same type:\n\n``` r\nx <- c(1, 3, 2, 10, 5)\ny <- 1:5\n\nm1 <- cbind(x, y)  # Column-binding creates a matrix\nm2 <- rbind(x, y)  # Row-binding creates a matrix\n```\n\nMatrix operations include:\n\n``` r\nt(m1)       # Transposes the matrix\nm1 + m2     # Adds corresponding elements\nm1 %*% m2   # Matrix multiplication\nsolve(m1)   # Computes the inverse of a square matrix (if possible)\n```\n\n## Lists\n\nLists can store elements of different types, making them flexible for various data:\n\n``` r\nmy_list <- list(num = 1, vec = c(1, 2, 3), mat = matrix(1:6, nrow = 2))\n```\n\nAccess elements of a list using the `$` operator:\n\n``` r\nmy_list$num  # Retrieves the numeric element\nmy_list$vec  # Retrieves the vector\nmy_list$mat  # Retrieves the matrix\n```\n\n## Data Frames\n\nData frames store tabular data, similar to spreadsheets:\n\n``` r\ndf <- data.frame(name = c(\"Alice\", \"Bob\"), age = c(25, 30))\n```\n\nExtract data from a data frame:\n\n``` r\ndf$name           # Extracts the \"name\" column\ndf[1, ]           # Returns the first row\ndf[df$age > 25, ] # Filters rows where age is greater than 25\n```\n\n## Working with File Paths\n\nR provides several functions to work with file paths, allowing you to build, explore, and manipulate directories and files in a platform-independent way. Here are some common functions along with examples and explanations:\n\n### Constructing File Paths with `file.path()`\n\n-   Purpose:\\\n    `file.path()` constructs file paths by combining directory and file names. It automatically uses the correct file separator for the operating system.\n\n-   Example:\n\n    ``` r\n    # Combine folder, subfolder, and file name\n    full_path <- file.path(\"data\", \"raw\", \"myfile.txt\")\n    print(full_path)\n    ```\n\n    This will produce a path like `\"data/raw/myfile.txt\"` on Unix-like systems or `\"data\\\\raw\\\\myfile.txt\"` on Windows.\n\n### Listing Files with `list.files()`\n\n-   Purpose:\\\n    `list.files()` returns a character vector of the file names in a specified directory. It can also be used to filter files by pattern.\n\n-   Example:\n\n    ``` r\n    # List all files in the \"data\" directory\n    files <- list.files(path = \"data\")\n    print(files)\n\n    # List only CSV files in the \"data\" directory\n    csv_files <- list.files(path = \"data\", pattern = \"\\\\.csv$\")\n    print(csv_files)\n    ```\n\n    This function is useful for dynamically accessing the contents of a directory.\n\n#### Listing Directories with `list.dirs()`\n\n-   Purpose:\\\n    `list.dirs()` provides a recursive list of directories (subdirectories included) within a specified path.\n\n-   Example:\n\n    ``` r\n    # List all directories within the \"data\" folder, including subdirectories\n    directories <- list.dirs(path = \"data\")\n    print(directories)\n    ```\n\n    This function helps you understand the structure of your file system under a particular directory.\n\n#### Creating Directories with `dir.create()`\n\n-   Purpose:\\\n    `dir.create()` is used to create new directories. When creating nested directories (sub-directories that do not yet exist), you must set the `recursive` argument to `TRUE`.\n\n-   Example:\n\n    ``` r\n    # Create a nested directory structure \"data/raw\"\n    dir.create(path = file.path(\"data\", \"raw\"), recursive = TRUE)\n    ```\n\n    Setting `recursive = TRUE` ensures that if the parent directory `\"data\"` does not exist, it will be created along with `\"raw\"`.\n\n#### Reading and Writing Text Files with `readLines()` and `writeLines()`\n\n-   `readLines()`:\n    -   Purpose:\\\n        Reads text files line by line into a character vector, which is useful for processing or analyzing text.\n\n    -   Example:\n\n        ``` r\n        # Read the content of a text file into a vector of lines\n        lines <- readLines(\"data/raw/myfile.txt\")\n        print(lines)\n        ```\n-   `writeLines()`:\n    -   Purpose:\\\n        Writes a character vector to a text file, with each element being written as a separate line.\n\n    -   Example:\n\n        ``` r\n        # Create a vector of text lines\n        output_lines <- c(\"This is the first line.\", \"This is the second line.\")\n\n        # Write the vector to a file called \"output.txt\"\n        writeLines(output_lines, con = \"data/output/output.txt\")\n        ```\n\n        These functions are ideal for simple text processing, such as reading logs, configuration files, or exporting simple reports.\n\n## Writing Functions\n\nFunctions in R allow you to encapsulate operations and reuse code. Define a function using `function()`:\n\n``` r\nincrement <- function(x) {\n  x + 1  # Adds 1 to the input value and returns it\n}\n\nincrement(3)  # Returns 4\n```\n\nNote that functions always return the last value computed:\n\n``` r\nincrement <- function(x) {\n  x + 2\n  x + 1\n}\n\nincrement(3)  # Returns 4\n```\n\nFunctions can also take multiple arguments:\n\n``` r\nadd_numbers <- function(x, y) {\n  return(x + y)\n}\n\nadd_numbers(2, 5)  # Returns 7\n```\n\nA common example is a function to calculate the hypotenuse of a right triangle (you will use this daily):\n\n``` r\nhypotenuse <- function(a, b) {\n  sqrt(a^2 + b^2)  # Uses the Pythagorean theorem\n}\n\nhypotenuse(3, 4)  # Returns 5\n```\n\n## Basic Statistical Functions\n\nR includes built-in functions for summary statistics:\n\n``` r\nmean(df$age)     # Computes the mean\nsd(df$age)       # Computes the standard deviation\nsummary(df)      # Provides a summary of the data frame\n```\n\nTo create frequency tables:\n\n``` r\ntable(df$name)  # Counts occurrences of each name\n```\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"markdown"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":false,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","toc":true,"toc-depth":3,"output-file":"r.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.6.42","theme":"cosmo","toc-location":"right"},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}